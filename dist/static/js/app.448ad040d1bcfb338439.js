webpackJsonp([1],{"+xCs":function(t,s){},"0U+C":function(t,s){},"5jt5":function(t,s){},"8t/0":function(t,s){},"CG/N":function(t,s){},E1ov:function(t,s){},Gr6N:function(t,s){},HRFw:function(t,s){},LDia:function(t,s){},NHnr:function(t,s,a){"use strict";Object.defineProperty(s,"__esModule",{value:!0});var e=a("7+uW"),i=(a("K3J8"),a("mtWM")),r=a.n(i),n=a("Rf8U"),o=a.n(n),c=a("sUu7"),l=a("ZZvs"),d=a.n(l),u=(a("SYh3"),{render:function(){var t=this.$createElement,s=this._self._c||t;return s("div",{attrs:{id:"app"}},[s("router-view")],1)},staticRenderFns:[]});var v=a("VU/8")({name:"App"},u,!1,function(t){a("o12z")},null,null).exports,m=a("/ocq"),p={render:function(){var t=this.$createElement,s=this._self._c||t;return s("div",[s("i",{staticClass:"fas fa-shopping-cart"},[this.cartLen>0?s("div",{staticClass:"cart-quantity bg-danger text-white"},[this._v(this._s(this.cartLen))]):this._e()])])},staticRenderFns:[]};var g={components:{Cart:a("VU/8")({data:function(){return{cartLen:0}},methods:{getCart:function(){var t=this;this.$http.get("https://vue-course-api.hexschool.io/api/dessert-shop/cart").then(function(s){t.cart=s.data.data,t.cartLen=s.data.data.carts.length})}},created:function(){this.getCart(),this.$bus.$on("cart:update",this.getCart)}},p,!1,function(t){a("Tphz")},"data-v-099058ce",null).exports}},_={render:function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("nav",{staticClass:"navbar navbar-expand-md"},[a("router-link",{staticClass:"navbar-brand d-none d-md-inline-block",attrs:{to:"/main"}},[a("img",{attrs:{src:"/static/img/logo-all-dark.svg",height:"40px"}})]),t._v(" "),t._m(0),t._v(" "),a("router-link",{staticClass:"navbar-brand d-md-none",attrs:{to:"/main"}},[a("img",{attrs:{src:"/static/img/logotype-sm-dark.svg",height:"17.74px"}})]),t._v(" "),a("div",{staticClass:"collapse navbar-collapse",attrs:{id:"navbarCollapse"}},[a("ul",{staticClass:"navbar-nav ml-auto"},[a("li",{staticClass:"nav-item"},[a("router-link",{attrs:{to:"/main"}},[t._v("首頁")])],1),t._v(" "),a("li",{staticClass:"nav-item"},[a("router-link",{attrs:{to:"/main/desserts"}},[t._v("甜點")])],1)])]),t._v(" "),a("router-link",{attrs:{to:"/main/cart"}},[a("Cart")],1)],1)},staticRenderFns:[function(){var t=this.$createElement,s=this._self._c||t;return s("button",{staticClass:"navbar-toggler",attrs:{type:"button","data-toggle":"collapse","data-target":"#navbarCollapse"}},[s("i",{staticClass:"fas fa-bars"})])}]};var h={render:function(){this.$createElement;this._self._c;return this._m(0)},staticRenderFns:[function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"footer"},[e("div",{staticClass:"mail-container"},[e("div",{staticClass:"slogan text-center text-md-left"},[e("img",{attrs:{src:a("qTm3"),height:"40px"}}),t._v(" "),e("span",[t._v("訂閱你我的甜蜜郵件")])]),t._v(" "),e("div",{staticClass:"input-group"},[e("input",{staticClass:"form-control",attrs:{type:"text"}}),t._v(" "),e("div",{staticClass:"input-group-append"},[e("button",{staticClass:"btn btn-secondary"},[e("i",{staticClass:"fas fa-arrow-right"})])])])]),t._v(" "),e("div",{staticClass:"info-container"},[e("div",{staticClass:"info-content"},[e("img",{attrs:{src:"/static/img/logotype-lg-dark.svg",height:"26.6px"}}),t._v(" "),e("ul",{staticClass:"list-group"},[e("li",{staticClass:"list-group-item"},[t._v("07-1234-5678800")]),t._v(" "),e("li",{staticClass:"list-group-item"},[t._v("sweetaste@email.com")]),t._v(" "),e("li",{staticClass:"list-group-item"},[t._v("高雄市新興區幸福路 520 號")])]),t._v(" "),e("div",{staticClass:"media"},[e("a",[e("i",{staticClass:"fab fa-facebook-square"})]),t._v(" "),e("a",[e("i",{staticClass:"fab fa-youtube"})])])]),t._v(" "),e("div",{staticClass:"copyright"},[e("img",{staticClass:"d-none d-md-inline-block",attrs:{src:"/static/img/sm-今天是個吃甜點的好日子.svg",height:"220px"}}),t._v(" "),e("span",[t._v("© 2019 Sweetaste* All Rights Reserved")])])])])}]};var C={data:function(){return{}},components:{Navbar:a("VU/8")(g,_,!1,function(t){a("LDia")},"data-v-1a06b7b5",null).exports,Footer:a("VU/8")(null,h,!1,function(t){a("s+E3")},"data-v-2ce22d16",null).exports}},f={render:function(){var t=this.$createElement,s=this._self._c||t;return s("div",[s("Navbar"),this._v(" "),s("router-view"),this._v(" "),s("Footer")],1)},staticRenderFns:[]},M=a("VU/8")(C,f,!1,null,null,null).exports,L=a("Gu7T"),w=a.n(L),y={props:{copy:{type:Object,default:function(){return{direction:"",quoteSm:"",quoteMd:"",img:"",content:""}}}}},D={render:function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"copy"},[a("img",{staticClass:"quote d-md-none",attrs:{src:t.copy.quoteSm,height:"60px"}}),t._v(" "),a("img",{staticClass:"quote d-none d-md-inline-block",attrs:{src:t.copy.quoteMd}}),t._v(" "),a("div",{staticClass:"img-container"},[a("div",{staticClass:"dessert-img",style:{"background-image":"url("+t.copy.img+")"}})]),t._v(" "),a("div",{staticClass:"content"},[a("span",[t._v(t._s(t.copy.content))])])])},staticRenderFns:[]};var b=a("VU/8")(y,D,!1,function(t){a("dIdL")},"data-v-4986dda9",null).exports,N={props:{dessert:{type:Object,default:function(){return{title:"",id:"",price:"",category:"",imageUrl:""}}}},methods:{addToCart:function(t){var s=this;this.$http.post("https://vue-course-api.hexschool.io/api/dessert-shop/cart",{data:{product_id:t.id,qty:1}}).then(function(a){a.data.success&&(s.$bus.$emit("message:push","成功將 "+t.title+"*1 加入購物車","secondary"),s.$bus.$emit("cart:update"))})}}},x={render:function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",[a("div",{staticClass:"img-container"},[a("div",{staticClass:"img",style:{"background-image":"url("+t.dessert.imageUrl+")"}}),t._v(" "),a("div",{staticClass:"filter"}),t._v(" "),t.dessert.category?a("div",{staticClass:"category"},[t._v(t._s(t.dessert.category))]):t._e()]),t._v(" "),a("div",{staticClass:"title"},[t._v(t._s(t.dessert.title))]),t._v(" "),a("div",{staticClass:"price"},[t._v(t._s(t._f("currencyFilter")(t.dessert.price)))]),t._v(" "),a("button",{staticClass:"btn btn-light",on:{click:function(s){return t.addToCart(t.dessert)}}},[t._v("加入購物車")])])},staticRenderFns:[]};var T=a("VU/8")(N,x,!1,function(t){a("HRFw")},"data-v-8b60537e",null).exports,j={data:function(){return{category:"本日精選",banner:{img:"http://tinyurl.com/y3cjwcrw",nav:[{img:"http://tinyurl.com/y43hm4pu",category:"本日精選"},{img:"http://tinyurl.com/yxmn86we",category:"人氣推薦"},{img:"http://tinyurl.com/y4ypow5e",category:"新品上市"}]},copies:[{direction:"right",quoteSm:"/static/img/sm-橫式-為什麼選擇了做甜點.svg",quoteMd:"/static/img/lg-為什麼選擇了做甜點.svg",img:"http://tinyurl.com/y5wy82h8",content:"青山依舊在，幾度夕陽紅。慣看秋月春風。一壺濁酒喜相逢，浪花淘盡英雄。是非成敗轉頭空，滾滾長江東逝水，白髮漁樵江渚上，古今多少事，都付笑談中。"},{direction:"left",quoteSm:"/static/img/sm-橫式-為什麼一定要吃甜點.svg",quoteMd:"/static/img/lg-為什麼一定要吃甜點.svg",img:"http://tinyurl.com/y6s6f7bw",content:"青山依舊在，幾度夕陽紅。慣看秋月春風。一壺濁酒喜相逢，浪花淘盡英雄。是非成敗轉頭空，滾滾長江東逝水，白髮漁樵江渚上，古今多少事，都付笑談中。"}],desserts:[],dessertsDisplay:[]}},methods:{getDesserts:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,s=this,a="https://vue-course-api.hexschool.io/api/dessert-shop/products?page="+t;this.$http.get(a).then(function(a){s.desserts=[].concat(w()(s.desserts),w()(a.data.products)),s.filtDesserts(t)})},filtDesserts:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,s=this;if(s.desserts.length<10*t)s.getDesserts(t);else{t-=1;for(var a=0;a<10;a++)s.desserts[10*t+a].category===s.category&&s.desserts[10*t+a].is_enabled&&s.dessertsDisplay.length<3&&s.dessertsDisplay.push(s.desserts[10*t+a]);s.dessertsDisplay.length<3&&s.filtDesserts(t+2)}}},watch:{category:function(){this.dessertsDisplay=[],this.filtDesserts()}},created:function(){this.getDesserts()},components:{Copy:b,Window:T}},E={render:function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",[a("div",{staticClass:"banner"},[a("div",{staticClass:"banner-bg",style:{"background-image":"url("+t.banner.img+")"}}),t._v(" "),a("div",{staticClass:"banner-nav"},t._l(t.banner.nav,function(s,e){return a("div",{key:e,staticClass:"banner-nav-item",class:{active:s.category===t.category},on:{click:function(a){t.category=s.category}}},[a("div",{staticClass:"background",style:{"background-image":"url("+s.img+")"}}),t._v(" "),a("div",{staticClass:"filter"}),t._v(" "),a("div",{staticClass:"category"},[t._v(t._s(s.category))])])}),0)]),t._v(" "),t._l(t.copies,function(t,s){return a("Copy",{key:s,staticClass:"copy",class:t.direction,attrs:{copy:t}})}),t._v(" "),a("img",{staticClass:"quote d-none d-md-block",attrs:{src:"/static/img/lg-想吃甜點是不需要理由的.svg"}}),t._v(" "),a("img",{staticClass:"quote d-md-none",attrs:{src:"/static/img/sm-橫式-想吃甜點是不需要理由的.svg",height:"60px"}}),t._v(" "),a("div",{staticClass:"windows"},t._l(t.dessertsDisplay,function(t){return a("Window",{key:t.id,staticClass:"window",attrs:{dessert:t}})}),1)],2)},staticRenderFns:[]};var O=a("VU/8")(j,E,!1,function(t){a("+xCs")},"data-v-57aa1ec1",null).exports,S={render:function(){var t=this,s=t.$createElement,a=t._self._c||s;return t.pagination.total_pages>1?a("nav",{attrs:{"aria-label":"Page navigation example"}},[a("ul",{staticClass:"pagination justify-content-center",style:t.pagination.style},[a("li",{staticClass:"page-item",class:{disabled:!t.pagination.has_pre}},[a("a",{staticClass:"page-link",attrs:{href:"#",tabindex:"-1"},on:{click:function(s){return s.preventDefault(),t.changePage(t.pagination.current_page-1)}}},[a("i",{staticClass:"fas fa-chevron-left"})])]),t._v(" "),t._l(t.pagination.total_pages,function(s,e){return a("li",{key:e,staticClass:"page-item",class:{active:s==t.pagination.current_page}},[a("a",{staticClass:"page-link",attrs:{href:"#"},on:{click:function(a){return a.preventDefault(),t.changePage(s)}}},[t._v(t._s(s))])])}),t._v(" "),a("li",{staticClass:"page-item",class:{disabled:!t.pagination.has_next}},[a("a",{staticClass:"page-link",attrs:{href:"#"},on:{click:function(s){return s.preventDefault(),t.changePage(t.pagination.current_page+1)}}},[a("i",{staticClass:"fas fa-chevron-right"})])])],2)]):t._e()},staticRenderFns:[]};var k=a("VU/8")({props:["pagination"],methods:{changePage:function(t){this.$emit("getInform",t)}}},S,!1,function(t){a("bmvZ")},"data-v-4de09cd2",null).exports,z={data:function(){return{bannerBg:"http://tinyurl.com/y2l2a8ge",category:"所有甜點",categories:["所有甜點","本日精選","人氣推薦","新品上市"],desserts:[],dessertsDisplay:[],pagination:{total_pages:1,current_page:1,has_pre:!1,has_next:!1,style:{fontSize:"1.5rem"}}}},methods:{getDesserts:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,s=this,a="https://vue-course-api.hexschool.io/api/dessert-shop/products?page="+t;this.$http.get(a).then(function(a){s.desserts=[].concat(w()(s.desserts),w()(a.data.products)),a.data.pagination.has_next?s.getDesserts(t+1):s.filtDesserts()})},filtDesserts:function(){var t=this;"所有甜點"===t.category?t.dessertsDisplay=t.desserts.filter(function(t){return t.is_enabled}):t.dessertsDisplay=t.desserts.filter(function(s){return s.category===t.category&&s.is_enabled}),t.pagination.total_pages=Math.ceil(t.dessertsDisplay.length/6),t.pagination.current_page=1,t.pagination.has_pre=!1,t.pagination.has_next=Math.ceil(t.dessertsDisplay.length/6)>1},changePage:function(t){this.pagination.current_page=t,this.pagination.has_pre=1!==t,t===this.pagination.total_pages?this.pagination.has_next=!1:this.pagination.has_next=!0}},watch:{category:function(){this.filtDesserts()}},created:function(){this.getDesserts()},components:{Window:T,Pagination:k}},A={render:function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"desserts"},[a("div",{staticClass:"banner"},[a("div",{staticClass:"banner-bg",style:{"background-image":"url("+t.bannerBg+")"}}),t._v(" "),a("img",{staticClass:"quote",attrs:{src:"/static/img/lg-想吃甜點是不需要理由的.svg"}})]),t._v(" "),a("div",{staticClass:"content"},[a("div",{staticClass:"category"},[a("ul",{staticClass:"list-group"},[a("li",{staticClass:"list-group-item"},[t._v("甜點類別")]),t._v(" "),t._l(t.categories,function(s,e){return a("li",{key:e,staticClass:"list-group-item",class:{active:s===t.category},on:{click:function(a){t.category=s}}},[t._v("\n          "+t._s(s)+"\n        ")])})],2)]),t._v(" "),a("div",{staticClass:"windows"},[t._l(t.dessertsDisplay,function(s,e){return[e>=6*(t.pagination.current_page-1)&&e<6*t.pagination.current_page?a("Window",{key:e,staticClass:"window",attrs:{dessert:s}}):t._e()]}),t._v(" "),a("Pagination",{tag:"Pagination",staticClass:"windows-pagination",attrs:{pagination:t.pagination},on:{getInform:t.changePage}})],2)])])},staticRenderFns:[]};var P=a("VU/8")(z,A,!1,function(t){a("j+mS")},"data-v-48203560",null).exports,$={props:{cart:{type:Object,default:function(){return{delivery:0,total:0,cart:[]}}}},methods:{getCart:function(){this.$emit("getCart")},removeFromCart:function(t){var s=this,a=this,e="https://vue-course-api.hexschool.io/api/dessert-shop/cart/"+t;this.$http.delete(e).then(function(t){t.data.success&&(s.$emit("getCart"),a.$bus.$emit("cart:update"))})},changeSituation:function(t){this.$emit("changeSituation",t)}}},U={render:function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"cart-container"},[a("div",{staticClass:"cart-content"},[a("h2",[t._v("您的購物車")]),t._v(" "),a("ul",{staticClass:"cart list-group"},t._l(t.cart.cart,function(s,e){return a("li",{key:e,staticClass:"cart-item list-group-item"},[a("div",{staticClass:"img-container"},[a("div",{staticClass:"img",style:{"background-image":"url("+s.product.imageUrl+")"}})]),t._v(" "),a("div",{staticClass:"dessert-info"},[a("div",[a("div",{staticClass:"dessert-title"},[t._v("\n              "+t._s(s.product.title)+"\n            ")]),t._v(" "),a("div",{staticClass:"dessert-price"},[t._v("\n              "+t._s(t._f("currencyFilter")(s.product.price))+"\n            ")])]),t._v(" "),a("div",{staticClass:"dessert-qty d-md-none"},[t._v("\n            "+t._s("* "+s.qty)+"\n          ")])]),t._v(" "),a("div",{staticClass:"qty d-none d-md-inline-block"},[t._v("\n          "+t._s("* "+s.qty)+"\n        ")]),t._v(" "),a("div",{staticClass:"cart-total"},[t._v("\n          "+t._s(t._f("currencyFilter")(s.product.price*s.qty))+"\n        ")]),t._v(" "),a("div",{staticClass:"delete",on:{click:function(a){return t.removeFromCart(s.id)}}},[a("i",{staticClass:"far fa-trash-alt"})])])}),0)]),t._v(" "),a("div",{staticClass:"order-content"},[a("div",{staticClass:"order"},[a("h2",[t._v("訂單摘要")]),t._v(" "),a("div",{staticClass:"subtitle"},[t._v("小記")]),t._v(" "),a("div",{staticClass:"amount"},[t._v(t._s(t._f("currencyFilter")(t.cart.total)))]),t._v(" "),a("div",{staticClass:"subtitle"},[t._v("運費")]),t._v(" "),a("div",{staticClass:"amount"},[t._v(t._s(t._f("currencyFilter")(t.cart.delivery)))]),t._v(" "),a("div",{staticClass:"order-total subtitle"},[t._v("總計")]),t._v(" "),a("div",{staticClass:"order-total amount"},[t._v(t._s(t._f("currencyFilter")(t.cart.total+t.cart.delivery)))])]),t._v(" "),a("button",{staticClass:"btn btn-secondary",on:{click:function(s){return t.changeSituation("delivery")}}},[t._v("結帳")])])])},staticRenderFns:[]};var I=a("VU/8")($,U,!1,function(t){a("CG/N")},"data-v-4784ba73",null).exports,Q={props:{cart:{type:Object,default:function(){return{delivery:0,total:0,cart:[]}}}},data:function(){return{confirm:!1,deliveryData:{user:{lastName:"",firstName:"",tel:"",email:"",address:""},message:""}}},methods:{changeSituation:function(t){this.$emit("changeSituation",t)},confirmOrder:function(){var t=this;this.$validator.validate().then(function(s){s&&(t.confirm=!0)})},paidOrder:function(){var t=this;this.$http.post("https://vue-course-api.hexschool.io/api/dessert-shop/order",{data:this.deliveryData}).then(function(s){s.data.success&&t.$router.push({path:"/main/checkout"})})}}},Y={render:function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"delivery-container"},[a("div",{staticClass:"delivery"},[a("div",{staticClass:"delivery-form"},[a("h1",[t._v("運送")]),t._v(" "),a("div",{staticClass:"last-name form-group"},[a("label",{attrs:{for:"lastName"}},[t._v("姓氏")]),t._v(" "),t.confirm?t._e():a("input",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"},{name:"model",rawName:"v-model",value:t.deliveryData.user.lastName,expression:"deliveryData.user.lastName"}],staticClass:"form-control",class:{invalid:t.errors.has("lastName")},attrs:{id:"lastName",name:"lastName",type:"text",placeholder:"李"},domProps:{value:t.deliveryData.user.lastName},on:{input:function(s){s.target.composing||t.$set(t.deliveryData.user,"lastName",s.target.value)}}}),t._v(" "),a("span",{staticClass:"text-secondary"},[t._v(t._s(t.errors.first("lastName")))]),t._v(" "),t.confirm?a("span",{staticClass:"confirm"},[t._v(t._s(t.deliveryData.user.lastName))]):t._e()]),t._v(" "),a("div",{staticClass:"first-name form-group"},[a("label",{attrs:{for:"firstName"}},[t._v("名字")]),t._v(" "),t.confirm?t._e():a("input",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"},{name:"model",rawName:"v-model",value:t.deliveryData.user.firstName,expression:"deliveryData.user.firstName"}],staticClass:"form-control",class:{invalid:t.errors.has("firstName")},attrs:{id:"firstName",name:"firstName",type:"text",placeholder:"白"},domProps:{value:t.deliveryData.user.firstName},on:{input:function(s){s.target.composing||t.$set(t.deliveryData.user,"firstName",s.target.value)}}}),t._v(" "),a("span",{staticClass:"text-secondary"},[t._v(t._s(t.errors.first("firstName")))]),t._v(" "),t.confirm?a("span",{staticClass:"confirm"},[t._v(t._s(t.deliveryData.user.firstName))]):t._e()]),t._v(" "),a("div",{staticClass:"tel form-group"},[a("label",{attrs:{for:"tel"}},[t._v("聯絡電話")]),t._v(" "),t.confirm?t._e():a("input",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"},{name:"model",rawName:"v-model",value:t.deliveryData.user.tel,expression:"deliveryData.user.tel"}],staticClass:"form-control",class:{invalid:t.errors.has("tel")},attrs:{id:"tel",name:"tel",type:"text",placeholder:"0912-345-678"},domProps:{value:t.deliveryData.user.tel},on:{input:function(s){s.target.composing||t.$set(t.deliveryData.user,"tel",s.target.value)}}}),t._v(" "),a("span",{staticClass:"text-secondary"},[t._v(t._s(t.errors.first("tel")))]),t._v(" "),t.confirm?a("span",{staticClass:"confirm"},[t._v(t._s(t.deliveryData.user.tel))]):t._e()]),t._v(" "),a("div",{staticClass:"email form-group"},[a("label",{attrs:{for:"email"}},[t._v("電子郵件")]),t._v(" "),t.confirm?t._e():a("input",{directives:[{name:"validate",rawName:"v-validate",value:"required|email",expression:"'required|email'"},{name:"model",rawName:"v-model",value:t.deliveryData.user.email,expression:"deliveryData.user.email"}],staticClass:"form-control",class:{invalid:t.errors.has("email")},attrs:{id:"email",name:"email",type:"text",placeholder:"libai@tung.com"},domProps:{value:t.deliveryData.user.email},on:{input:function(s){s.target.composing||t.$set(t.deliveryData.user,"email",s.target.value)}}}),t._v(" "),a("span",{staticClass:"text-secondary"},[t._v(t._s(t.errors.first("email")))]),t._v(" "),t.confirm?a("span",{staticClass:"confirm"},[t._v(t._s(t.deliveryData.user.email))]):t._e()]),t._v(" "),a("div",{staticClass:"address form-group"},[a("label",{attrs:{for:"address"}},[t._v("配送地址")]),t._v(" "),t.confirm?t._e():a("input",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"},{name:"model",rawName:"v-model",value:t.deliveryData.user.address,expression:"deliveryData.user.address"}],staticClass:"form-control",class:{invalid:t.errors.has("address")},attrs:{id:"address",name:"address",type:"text",placeholder:"長安城胡姬酒肆"},domProps:{value:t.deliveryData.user.address},on:{input:function(s){s.target.composing||t.$set(t.deliveryData.user,"address",s.target.value)}}}),t._v(" "),a("span",{staticClass:"text-secondary"},[t._v(t._s(t.errors.first("address")))]),t._v(" "),t.confirm?a("span",{staticClass:"confirm"},[t._v(t._s(t.deliveryData.user.address))]):t._e()]),t._v(" "),a("div",{staticClass:"message form-group"},[a("label",{attrs:{for:"message"}},[t._v("備註")]),t._v(" "),t.confirm?t._e():a("textarea",{directives:[{name:"model",rawName:"v-model",value:t.deliveryData.message,expression:"deliveryData.message"}],staticClass:"form-control",attrs:{id:"message",rows:"5"},domProps:{value:t.deliveryData.message},on:{input:function(s){s.target.composing||t.$set(t.deliveryData,"message",s.target.value)}}}),t._v(" "),t.confirm?a("span",{staticClass:"confirm"},[t._v(t._s(t.deliveryData.user.message))]):t._e()])]),t._v(" "),a("div",{staticClass:"btn-container"},[t.confirm?t._e():a("button",{staticClass:"btn btn-light btn-unconfirm",on:{click:function(s){return t.changeSituation("cart")}}},[t._v("\n        回到購物車\n      ")]),t._v(" "),t.confirm?t._e():a("button",{staticClass:"btn btn-secondary btn-unconfirm",on:{click:t.confirmOrder}},[t._v("\n        下一步\n      ")]),t._v(" "),t.confirm?a("button",{staticClass:"btn btn-secondary btn-confirm",on:{click:t.paidOrder}},[t._v("\n        付款\n      ")]):t._e()])]),t._v(" "),a("div",{staticClass:"information"},[a("div",{staticClass:"info-item"},[a("h2",[t._v("訂單摘要")]),t._v(" "),a("div",{staticClass:"content"},[a("div",{staticClass:"subtitle"},[t._v("小記")]),t._v(" "),a("div",{staticClass:"amount"},[t._v(t._s(t._f("currencyFilter")(t.cart.total)))]),t._v(" "),a("div",{staticClass:"subtitle"},[t._v("運費")]),t._v(" "),a("div",{staticClass:"amount"},[t._v(t._s(t._f("currencyFilter")(t.cart.delivery)))]),t._v(" "),a("div",{staticClass:"order-total subtitle"},[t._v("總計")]),t._v(" "),a("div",{staticClass:"order-total amount"},[t._v(t._s(t._f("currencyFilter")(t.cart.total+t.cart.delivery)))])])]),t._v(" "),a("div",{staticClass:"info-item"},[a("h2",[t._v("購物清單")]),t._v(" "),a("div",{staticClass:"content"},[a("ul",{staticClass:"cart list-group"},t._l(t.cart.cart,function(s,e){return a("li",{key:e,staticClass:"cart-item list-group-item"},[a("div",{staticClass:"img",style:{"background-image":"url("+s.product.imageUrl+")"}}),t._v(" "),a("div",{staticClass:"dessert-info"},[a("div",[a("div",{staticClass:"dessert-title"},[t._v("\n                  "+t._s(s.product.title+" *"+s.qty)+"\n                ")]),t._v(" "),a("div",{staticClass:"dessert-price"},[t._v("\n                  "+t._s(t._f("currencyFilter")(s.qty*s.product.price))+"\n                ")])])])])}),0)])])])])},staticRenderFns:[]};var F={data:function(){return{situation:"delivery",cart:{delivery:100,total:0,cart:[]}}},methods:{getCart:function(){var t=this;this.$http.get("https://vue-course-api.hexschool.io/api/dessert-shop/cart").then(function(s){t.cart.cart=s.data.data.carts,t.cart.total=s.data.data.total})},changeSituation:function(t){this.situation=t}},created:function(){this.getCart()},components:{Cart:I,Delivery:a("VU/8")(Q,Y,!1,function(t){a("Gr6N")},"data-v-0ade276b",null).exports}},q={render:function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",["cart"===t.situation?a("Cart",{attrs:{cart:t.cart},on:{getCart:t.getCart,changeSituation:t.changeSituation}}):t._e(),t._v(" "),"delivery"===t.situation?a("Delivery",{attrs:{cart:t.cart},on:{changeSituation:t.changeSituation}}):t._e()],1)},staticRenderFns:[]};var R=a("VU/8")(F,q,!1,function(t){a("vbk1")},"data-v-2b961690",null).exports,V={render:function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"checkout"},[s("div",{staticClass:"background"},[s("img",{attrs:{src:"/static/img/lg-付款成功.svg"}}),this._v(" "),s("button",{staticClass:"btn btn-secondary",on:{click:this.toDesserts}},[this._v("繼續逛逛")])])])},staticRenderFns:[]};var W=a("VU/8")({methods:{toDesserts:function(){this.$router.push({path:"/main/desserts"})}}},V,!1,function(t){a("Zs1e")},"data-v-fb652848",null).exports,H={render:function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("nav",{staticClass:"navbar navbar-dark navbar-expand-sm fixed-top bg-dark flex-md-nowrap p-0 shadow"},[a("router-link",{staticClass:"navbar-brand text-center px-2",attrs:{to:"main"}},[t._v("Sweetaste")]),t._v(" "),t._m(0),t._v(" "),a("ul",{staticClass:"navbar-nav d-none d-sm-flex d-lg-none"},[a("li",{staticClass:"nav-item text-nowrap"},[a("router-link",{staticClass:"nav-link",class:{active:"Product"==t.$route.name},attrs:{to:"/admin/products"}},[t._v("Product")])],1),t._v(" "),a("li",{staticClass:"nav-item text-nowrap"},[a("router-link",{staticClass:"nav-link",class:{active:"Order"==t.$route.name},attrs:{to:"/admin"}},[t._v("Order")])],1)]),t._v(" "),a("div",{staticClass:"collapse navbar-collapse px-3 px-sm-0",attrs:{id:"navbarCollapse"}},[t._m(1),t._v(" "),a("ul",{staticClass:"navbar-nav pb-2 pb-sm-0"},[a("li",{staticClass:"nav-item text-nowrap d-sm-none"},[a("router-link",{staticClass:"nav-link",attrs:{to:"/admin/products"}},[t._v("Product")])],1),t._v(" "),a("li",{staticClass:"nav-item text-nowrap d-sm-none"},[a("router-link",{staticClass:"nav-link",attrs:{to:"/admin"}},[t._v("Order")])],1),t._v(" "),a("li",{staticClass:"nav-item text-nowrap px-0 px-md-3"},[a("a",{staticClass:"nav-link",attrs:{href:"#"},on:{click:function(s){return s.preventDefault(),t.logout(s)}}},[t._v("Sign out")])])])])],1)},staticRenderFns:[function(){var t=this.$createElement,s=this._self._c||t;return s("button",{staticClass:"navbar-toggler mr-2",attrs:{type:"button","data-toggle":"collapse","data-target":"#navbarCollapse"}},[s("span",{staticClass:"navbar-toggler-icon"})])},function(){var t=this.$createElement,s=this._self._c||t;return s("form",{staticClass:"form-inline py-2 ml-auto row"},[s("input",{staticClass:"form-control form-control-dark col-8 mr-2",attrs:{type:"text",placeholder:"Search","aria-label":"Search"}}),this._v(" "),s("button",{staticClass:"btn btn-outline-primary mr-2 col-3",attrs:{type:"submit"}},[this._v("Search")])])}]},Z=a("VU/8")({methods:{logout:function(){var t=this;this.$http.post("https://vue-course-api.hexschool.io/logout").then(function(s){s.data.success&&t.$router.push("/login")})}}},H,!1,null,null,null).exports,G={render:function(){var t=this.$createElement,s=this._self._c||t;return s("nav",{staticClass:"d-none d-lg-block bg-light sidebar"},[s("div",{staticClass:"pl-3"},[this._m(0),this._v(" "),s("ul",{staticClass:"nav flex-column mb-2"},[s("li",{staticClass:"nav-item"},[s("router-link",{staticClass:"nav-link",class:{active:"Order"==this.$route.name},attrs:{href:"#",to:"/admin"}},[s("span",{attrs:{"data-feather":"file-text"}}),this._v("\r\n          Order\r\n        ")])],1),this._v(" "),s("li",{staticClass:"nav-item"},[s("router-link",{staticClass:"nav-link",class:{active:"Product"==this.$route.name},attrs:{href:"#",to:"/admin/products"}},[s("span",{attrs:{"data-feather":"file-text"}}),this._v("\r\n          Product\r\n        ")])],1)])])])},staticRenderFns:[function(){var t=this.$createElement,s=this._self._c||t;return s("h6",{staticClass:"sidebar-heading px-3 py-2 mt-4 mb-1 text-muted"},[s("span",[this._v("Admin")])])}]};var B={name:"AlertMessage",data:function(){return{messages:[]}},methods:{updateMessage:function(t,s,a,e){var i=Math.floor(new Date/1e3);this.messages.push({message:t,status:s,width:a,right:e,timestamp:i}),this.removeMessageWithTiming(i)},removeMessage:function(t){this.messages.splice(t,1)},removeMessageWithTiming:function(t){var s=this;setTimeout(function(){s.messages.forEach(function(a,e){a.timestamp===t&&s.messages.splice(e,1)})},5e3)}},created:function(){var t=this;t.$bus.$on("message:push",function(s){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"warning",e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"auto",i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"20px";t.updateMessage(s,a,e,i)})}},J={render:function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"message-alert"},t._l(t.messages,function(s,e){return a("div",{key:e},[a("div",{staticClass:"alert alert-dismissible",class:"alert-"+s.status,style:{width:s.width,right:s.right,top:48*e+"px"}},[t._v("\n      "+t._s(s.message)+"\n      "),a("button",{staticClass:"close",attrs:{type:"button","aria-label":"Close"},on:{click:function(s){return t.removeMessage(e)}}},[a("span",{attrs:{"aria-hidden":"true"}},[t._v("×")])])])])}),0)},staticRenderFns:[]};var K={name:"adminPage",data:function(){return{}},components:{Sidebar:a("VU/8")(null,G,!1,function(t){a("hVwP")},"data-v-53ae1858",null).exports,Navbar:Z,Alert:a("VU/8")(B,J,!1,function(t){a("E1ov")},null,null).exports}},X={render:function(){var t=this.$createElement,s=this._self._c||t;return s("div",[s("Alert"),this._v(" "),s("Navbar"),this._v(" "),s("div",{staticClass:"container-fluid"},[s("div",{staticClass:"row"},[s("Sidebar"),this._v(" "),s("main",{staticClass:"main ml-auto mr-lg-3 col-lg-10 px-4",attrs:{role:"main"}},[s("router-view")],1)],1)])],1)},staticRenderFns:[]};var tt=a("VU/8")(K,X,!1,function(t){a("8t/0")},"data-v-b86ca8ec",null).exports,st=a("woOf"),at=a.n(st),et=a("7t+N"),it=a.n(et),rt={data:function(){return{products:[],tempProduct:{},isLoading:!1,updateLoading:!1,status:{fileUpLoading:!1},pagination:{}}},methods:{getProducts:function(){var t=this,s="https://vue-course-api.hexschool.io/api/dessert-shop/products?page="+(arguments.length>0&&void 0!==arguments[0]?arguments[0]:1);t.isLoading=!0,this.$http.get(s).then(function(s){t.products=s.data.products,t.pagination=s.data.pagination,t.isLoading=!1})},updateProduct:function(){var t=this,s=this,a="post",e="https://vue-course-api.hexschool.io/api/dessert-shop/admin/product",i="新增",r=s.tempProduct;r.new?(a="put",e="https://vue-course-api.hexschool.io/api/dessert-shop/admin/product/"+r.id,i="修改",delete r.new):r.del&&(a="delete",e="https://vue-course-api.hexschool.io/api/dessert-shop/admin/product/"+r.id,i="刪除",delete r.del),this.$http[a](e,{data:r}).then(function(a){console.log(a.data),a.data.success?(it()("#productModal").modal("hide"),it()("#delProductModal").modal("hide"),t.$bus.$emit("message:push",i+"成功","success"),s.getProducts()):(it()("#productModal").modal("hide"),it()("#delProductModal").modal("hide"),t.$bus.$emit("message:push",a.data.message,"danger"))})},openModal:function(){this.tempProduct={},it()("#productModal").modal("show")},openDelModal:function(t){this.tempProduct=at()({},t),this.tempProduct.del=!0,it()("#delProductModal").modal("show")},editProduct:function(t){this.openModal(),this.tempProduct=at()({},t),this.tempProduct.new=!0},cancelModal:function(){it()("#productModal").modal("hide"),it()("#delProductModal").modal("hide")},uploadFile:function(){var t=this,s=this.$refs.files.files[0],a=this,e=new FormData;e.append("file-to-upload",s);a.status.fileUpLoading=!0,this.$http.post("https://vue-course-api.hexschool.io/api/dessert-shop/admin/upload",e,{headers:{"Content-Type":"multipart/form-data"}}).then(function(s){s.data.success?a.$set(a.tempProduct,"imageUrl",s.data.imageUrl):t.$bus.$emit("message:push",s.data.message.code,"danger"),a.status.fileUpLoading=!1})}},created:function(){this.getProducts()},components:{Pagination:k}},nt={render:function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",[a("div",{staticClass:"vld-parent"},[a("Loading",{attrs:{active:t.isLoading},on:{"update:active":function(s){t.isLoading=s}}})],1),t._v(" "),a("div",{staticClass:"table-responsive mt-4"},[a("div",{staticClass:"text-right"},[a("button",{staticClass:"btn btn-primary",on:{click:t.openModal}},[t._v("ADD")])]),t._v(" "),a("table",{staticClass:"table table-striped table-sm mt-1"},[t._m(0),t._v(" "),a("tbody",t._l(t.products,function(s){return a("tr",{key:s.id},[a("td",{staticClass:"d-none d-md-table-cell"},[a("img",{staticClass:"icon-img",attrs:{src:s.imageUrl,alt:""}})]),t._v(" "),a("td",[t._v(t._s(t._f("currencyFilter")(s.price)))]),t._v(" "),a("td",{staticClass:"d-none d-md-table-cell"},[t._v(t._s(s.category))]),t._v(" "),a("td",[t._v(t._s(s.title))]),t._v(" "),a("td",[s.is_enabled?a("span",{staticClass:"text-success"},[t._v("enable")]):a("span",{staticClass:"text-danger"},[t._v("unable")])]),t._v(" "),a("td",{staticClass:"d-flex flex-column d-md-table-cell"},[a("button",{staticClass:"btn btn-outline-primary my-1",on:{click:function(a){return t.editProduct(s)}}},[t._v("edit")]),t._v(" "),a("button",{staticClass:"btn btn-outline-danger my-1",on:{click:function(a){return t.openDelModal(s)}}},[t._v("delete")])])])}),0)]),t._v(" "),a("Pagination",{attrs:{pagination:t.pagination},on:{getInform:t.getProducts}}),t._v(" "),a("div",{staticClass:"modal fade",attrs:{id:"productModal",tabindex:"-1",role:"dialog","aria-labelledby":"exampleModalLabel","aria-hidden":"true"}},[a("div",{staticClass:"modal-dialog modal-lg",attrs:{role:"document"}},[a("div",{staticClass:"modal-content border-0"},[t._m(1),t._v(" "),a("div",{staticClass:"modal-body"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-sm-4"},[a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"image"}},[t._v("輸入圖片網址")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.tempProduct.imageUrl,expression:"tempProduct.imageUrl"}],staticClass:"form-control",attrs:{type:"text",id:"image",placeholder:"請輸入圖片連結"},domProps:{value:t.tempProduct.imageUrl},on:{input:function(s){s.target.composing||t.$set(t.tempProduct,"imageUrl",s.target.value)}}})]),t._v(" "),a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"customFile"}},[t._v("或 上傳圖片\r\n                      "),t.status.fileUpLoading?a("i",{staticClass:"fas fa-circle-notch fa-spin"}):t._e()]),t._v(" "),a("input",{ref:"files",staticClass:"form-control",attrs:{type:"file",id:"customFile"},on:{change:t.uploadFile}})]),t._v(" "),a("img",{staticClass:"img-fluid",attrs:{alt:"",src:t.tempProduct.imageUrl}})]),t._v(" "),a("div",{staticClass:"col-sm-8"},[a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"title"}},[t._v("標題")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.tempProduct.title,expression:"tempProduct.title"}],staticClass:"form-control",attrs:{type:"text",id:"title",placeholder:"請輸入標題"},domProps:{value:t.tempProduct.title},on:{input:function(s){s.target.composing||t.$set(t.tempProduct,"title",s.target.value)}}})]),t._v(" "),a("div",{staticClass:"form-row"},[a("div",{staticClass:"form-group col-md-6"},[a("label",{attrs:{for:"category"}},[t._v("分類")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.tempProduct.category,expression:"tempProduct.category"}],staticClass:"form-control",attrs:{type:"text",id:"category",placeholder:"請輸入分類"},domProps:{value:t.tempProduct.category},on:{input:function(s){s.target.composing||t.$set(t.tempProduct,"category",s.target.value)}}})]),t._v(" "),a("div",{staticClass:"form-group col-md-6"},[a("label",{attrs:{for:"price"}},[t._v("售價")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.tempProduct.price,expression:"tempProduct.price"}],staticClass:"form-control",attrs:{type:"number",id:"price",placeholder:"請輸入售價"},domProps:{value:t.tempProduct.price},on:{input:function(s){s.target.composing||t.$set(t.tempProduct,"price",s.target.value)}}})])]),t._v(" "),a("hr"),t._v(" "),a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"description"}},[t._v("產品描述")]),t._v(" "),a("textarea",{directives:[{name:"model",rawName:"v-model",value:t.tempProduct.description,expression:"tempProduct.description"}],staticClass:"form-control",attrs:{id:"description",placeholder:"請輸入產品描述",rows:"5"},domProps:{value:t.tempProduct.description},on:{input:function(s){s.target.composing||t.$set(t.tempProduct,"description",s.target.value)}}})]),t._v(" "),a("div",{staticClass:"form-group"},[a("div",{staticClass:"form-check"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.tempProduct.is_enabled,expression:"tempProduct.is_enabled"}],staticClass:"form-check-input",attrs:{type:"checkbox",id:"is_enabled","true-value":1,"false-value":0},domProps:{checked:Array.isArray(t.tempProduct.is_enabled)?t._i(t.tempProduct.is_enabled,null)>-1:t._q(t.tempProduct.is_enabled,1)},on:{change:function(s){var a=t.tempProduct.is_enabled,e=s.target,i=e.checked?1:0;if(Array.isArray(a)){var r=t._i(a,null);e.checked?r<0&&t.$set(t.tempProduct,"is_enabled",a.concat([null])):r>-1&&t.$set(t.tempProduct,"is_enabled",a.slice(0,r).concat(a.slice(r+1)))}else t.$set(t.tempProduct,"is_enabled",i)}}}),t._v(" "),a("label",{staticClass:"form-check-label",attrs:{for:"is_enabled"}},[t._v("\r\n                    是否啟用\r\n                    ")])])])])])]),t._v(" "),a("div",{staticClass:"modal-footer"},[a("button",{staticClass:"btn btn-outline-secondary",attrs:{type:"button","data-dismiss":"modal"},on:{click:t.cancelModal}},[t._v("取消")]),t._v(" "),a("button",{staticClass:"btn btn-primary",attrs:{type:"button"},on:{click:t.updateProduct}},[t._v("確認")])])])])]),t._v(" "),a("div",{staticClass:"modal fade",attrs:{id:"delProductModal",tabindex:"-1",role:"dialog","aria-labelledby":"exampleModalLabel","aria-hidden":"true"}},[a("div",{staticClass:"modal-dialog",attrs:{role:"document"}},[a("div",{staticClass:"modal-content border-0"},[t._m(2),t._v(" "),a("div",{staticClass:"modal-body"},[t._v("\r\n            是否刪除 "),a("strong",{staticClass:"text-danger"},[t._v(t._s(t.tempProduct.title))]),t._v(" 商品(刪除後將無法恢復)。\r\n          ")]),t._v(" "),a("div",{staticClass:"modal-footer"},[a("button",{staticClass:"btn btn-outline-secondary",attrs:{type:"button","data-dismiss":"modal"},on:{click:t.cancelModal}},[t._v("取消")]),t._v(" "),a("button",{staticClass:"btn btn-danger",attrs:{type:"button"},on:{click:t.updateProduct}},[t._v("確認刪除")])])])])])],1)])},staticRenderFns:[function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("thead",[a("tr",[a("th",{staticClass:"d-none d-md-table-cell"},[t._v("PICTURE")]),t._v(" "),a("th",{staticClass:"price"},[t._v("PRICE")]),t._v(" "),a("th",{staticClass:"d-none d-md-table-cell"},[t._v("CATEGORY")]),t._v(" "),a("th",[t._v("TITLE")]),t._v(" "),a("th",[t._v("ENABLE")]),t._v(" "),a("th",{staticClass:"edit text-center"},[t._v("EDIT")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"modal-header bg-dark text-white"},[s("h5",{staticClass:"modal-title",attrs:{id:"exampleModalLabel"}},[s("span",[this._v("新增產品")])]),this._v(" "),s("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"}},[s("span",{attrs:{"aria-hidden":"true"}},[this._v("×")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"modal-header bg-danger text-white"},[s("h5",{staticClass:"modal-title",attrs:{id:"exampleModalLabel"}},[s("span",[this._v("刪除產品")])]),this._v(" "),s("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"}},[s("span",{attrs:{"aria-hidden":"true"}},[this._v("×")])])])}]};var ot=a("VU/8")(rt,nt,!1,function(t){a("0U+C")},"data-v-40a8d64c",null).exports,ct={data:function(){return{isLoading:!1,updateLoading:!1,orders:[],order:{user:{},product:[]},modifyOrder:{},pagination:{},tempIdx:"",situa:-1}},methods:{getOrders:function(){var t=this,s=this,a="https://vue-course-api.hexschool.io/api/dessert-shop/orders?page="+(arguments.length>0&&void 0!==arguments[0]?arguments[0]:1);s.isLoading=!0,this.$http.get(a).then(function(a){s.isLoading=!1,a.data.success?(s.orders=a.data.orders,s.pagination=a.data.pagination):t.$bus.$emit("message:push","獲取訂單失敗","danger")})},editOrder:function(t,s){this.order=at()({},t),this.modifyOrder=at()({},t),this.tempIdx=s,it()("#orderModal").modal("show")},updateOrder:function(){var t=this,s=this,a="https://vue-course-api.hexschool.io/api/dessert-shop/admin/order/"+s.modifyOrder.id;s.updateLoading=!0,this.$http.put(a,{data:s.modifyOrder}).then(function(a){a.data.success?(s.getOrders(s.pagination.current_page),s.order=at()({},s.modifyOrder)):t.$bus.$emit("message:push","變更狀態失敗","danger"),s.updateLoading=!1})},changeSitua:function(t){this.situa=t}},created:function(){this.getOrders()},components:{Pagination:k}},lt={render:function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",[a("div",{staticClass:"vld-parent"},[a("loading",{attrs:{active:t.isLoading},on:{"update:active":function(s){t.isLoading=s}}})],1),t._v(" "),a("table",{staticClass:"table table-striped table-sm mt-4"},[t._m(0),t._v(" "),a("tbody",[t._l(t.orders,function(s,e){return[s.is_paid==t.situa||-1==t.situa?a("tr",{key:s.id},[a("td",{staticClass:"time d-none d-md-table-cell pl-2"},[t._v(t._s(t._f("momentFilter")(s.create_at)))]),t._v(" "),a("td",{staticClass:"pl-2"},[t._v(t._s(s.user.lastName+" "+s.user.firstName))]),t._v(" "),a("td",{staticClass:"email d-none d-md-table-cell"},[t._v(t._s(s.user.email))]),t._v(" "),a("td",{staticClass:"d-none d-md-table-cell"},t._l(s.products,function(s,e){return a("div",{key:e},[t._v(t._s(s.product.title)+" * "+t._s(s.qty))])}),0),t._v(" "),a("td",{staticClass:"text-right"},[t._v(t._s(t._f("currencyFilter")(s.total)))]),t._v(" "),a("td",{staticClass:"text-center"},[0==s.is_paid?a("span",{staticClass:"text-danger"},[t._v("尚未付款")]):1==s.is_paid?a("span",{staticClass:"text-warning"},[t._v("已付款")]):2==s.is_paid?a("span",{staticClass:"text-dark"},[t._v("已取消")]):a("span",{staticClass:"text-success"},[t._v("已完成")])]),t._v(" "),a("td",{staticClass:"pr-1",attrs:{width:"65px"}},[a("button",{staticClass:"btn btn-outline-primary",on:{click:function(a){return t.editOrder(s,e)}}},[t._v("detail")])])]):t._e()]})],2)]),t._v(" "),a("Pagination",{attrs:{pagination:t.pagination},on:{getInform:t.getOrders}}),t._v(" "),a("div",{staticClass:"modal fade bd-example-modal-lg",attrs:{id:"orderModal",tabindex:"-1",role:"dialog","aria-labelledby":"exampleModalLabel","aria-hidden":"true"}},[a("div",{staticClass:"modal-dialog modal-lg",attrs:{role:"document"}},[a("div",{staticClass:"modal-content border-0"},[t._m(1),t._v(" "),a("div",{staticClass:"modal-body"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col"},[a("div",{staticClass:"form-group"},[a("header",{staticClass:"mb-3"},[a("h6",{staticClass:"d-inline-block text-primary font-weight-bold mr-4"},[t._v("訂單資訊")]),t._v(" "),a("select",{directives:[{name:"model",rawName:"v-model",value:t.modifyOrder.is_paid,expression:"modifyOrder.is_paid"}],staticClass:"form-control-sm text-left align-middle mr-1",attrs:{name:""},on:{change:function(s){var a=Array.prototype.filter.call(s.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.$set(t.modifyOrder,"is_paid",s.target.multiple?a:a[0])}}},[a("option",{attrs:{selected:"",disabled:""}},[t._v("請選擇訂單狀態")]),t._v(" "),a("option",{attrs:{value:"0"}},[t._v("尚未付款")]),t._v(" "),a("option",{attrs:{value:"1"}},[t._v("已付款")]),t._v(" "),a("option",{attrs:{value:"2"}},[t._v("已取消")]),t._v(" "),a("option",{attrs:{value:"3"}},[t._v("已完成")])]),t._v(" "),a("button",{staticClass:"btn btn-sm btn-outline-primary align-middle mt-2 mt-md-0",on:{click:t.updateOrder}},[t._v("\r\n                    編輯"),t.updateLoading?a("i",{staticClass:"fas fa-spinner fa-spin"}):t._e()])]),t._v(" "),a("div",{staticClass:"mb-2"},[a("h6",[t._v("訂單日期")]),a("span",[t._v(t._s(t._f("momentFilter")(t.order.create_at)))])]),t._v(" "),a("div",[a("h6",{staticClass:"pb-2"},[t._v("訂單狀態")]),t._v(" "),0==t.order.is_paid?a("span",{staticClass:"situa bg-danger"},[t._v("尚未付款")]):1==t.order.is_paid?a("span",{staticClass:"situa bg-warning"},[t._v("已付款")]):2==t.order.is_paid?a("span",{staticClass:"situa bg-dark"},[t._v("已取消")]):a("span",{staticClass:"situa bg-success"},[t._v("已完成")])])]),t._v(" "),a("hr"),t._v(" "),a("div",{staticClass:"form-group"},[a("h6",{staticClass:"text-primary font-weight-bold mb-3"},[t._v("訂購人資訊")]),t._v(" "),a("div",{staticClass:"mb-2"},[a("h6",[t._v("訂購人")]),a("span",[t._v(t._s(t.order.user.lastName+" "+t.order.user.firstName))])]),t._v(" "),a("div",{staticClass:"mb-2"},[a("h6",[t._v("連絡電話")]),a("span",[t._v(t._s(t.order.user.tel))])]),t._v(" "),a("div",{staticClass:"mb-2"},[a("h6",[t._v("電子郵件")]),a("span",[t._v(t._s(t.order.user.email))])]),t._v(" "),a("div",[a("h6",[t._v("訂購地址")]),a("span",[t._v(t._s(t.order.user.address))])])])]),t._v(" "),a("div",{staticClass:"col"},[a("div",{staticClass:"form-group"},[a("div",{staticClass:"form-group"},[a("h6",{staticClass:"text-primary font-weight-bold mb-3"},[t._v("商品詳情")]),t._v(" "),t._l(t.order.products,function(s,e){return a("div",{key:e,staticClass:"mb-2"},[a("img",{staticClass:"mr-1",attrs:{src:s.product.imageUrl,alt:"",height:"50px"}}),t._v("\r\n                    "+t._s(s.product.title)+" * "+t._s(s.qty)+"\r\n                  ")])})],2)]),t._v(" "),a("hr"),t._v(" "),a("div",{staticClass:"form-row"},[a("h6",{staticClass:"text-primary font-weight-bold mb-3"},[t._v("顧客備註")]),t._v(" "),a("span",[t._v(t._s(t.order.message))])])])])])])])])],1)},staticRenderFns:[function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("thead",[a("tr",[a("th",{staticClass:"d-none d-md-table-cell pl-4"},[t._v("Time")]),t._v(" "),a("th",{staticClass:"text-center"},[t._v("Name")]),t._v(" "),a("th",{staticClass:"d-none d-md-table-cell"},[t._v("Email")]),t._v(" "),a("th",{staticClass:"d-none d-md-table-cell"},[t._v("Items")]),t._v(" "),a("th",{staticClass:"text-right"},[t._v("Amount")]),t._v(" "),a("th",{staticClass:"text-center"},[t._v("Situation")]),t._v(" "),a("th",{staticClass:"text-center"},[t._v("Detail")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"modal-header bg-dark text-white"},[s("h5",{staticClass:"modal-title",attrs:{id:"exampleModalLabel"}},[s("span",[this._v("訂單詳情")])]),this._v(" "),s("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"}},[s("span",{attrs:{"aria-hidden":"true"}},[this._v("×")])])])}]};var dt=a("VU/8")(ct,lt,!1,function(t){a("mbaE")},"data-v-4e7a031b",null).exports,ut={render:function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",[a("div",{staticClass:"vld-parent"},[a("loading",{attrs:{active:t.isLoading},on:{"update:active":function(s){t.isLoading=s}}})],1),t._v(" "),a("form",{staticClass:"form-signin",on:{submit:function(s){return s.preventDefault(),t.signin(s)}}},[a("h1",{staticClass:"h3 mb-3 font-weight-normal"},[t._v("Please sign in")]),t._v(" "),a("label",{staticClass:"sr-only",attrs:{for:"inputEmail"}},[t._v("Email address")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.user.username,expression:"user.username"}],staticClass:"form-control",attrs:{type:"email",id:"inputEmail",placeholder:"Email address",required:"",autofocus:""},domProps:{value:t.user.username},on:{input:function(s){s.target.composing||t.$set(t.user,"username",s.target.value)}}}),t._v(" "),a("label",{staticClass:"sr-only",attrs:{for:"inputPassword"}},[t._v("Password")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.user.password,expression:"user.password"}],staticClass:"form-control",attrs:{type:"password",id:"inputPassword",placeholder:"Password",required:""},domProps:{value:t.user.password},on:{input:function(s){s.target.composing||t.$set(t.user,"password",s.target.value)}}}),t._v(" "),t._m(0),t._v(" "),a("button",{staticClass:"btn btn-lg btn-primary btn-block",attrs:{type:"submit"}},[t._v("Sign in")]),t._v(" "),t.error?a("p",{staticClass:"mt-3 text-danger"},[t._v("請輸入正確的電子郵件與密碼")]):t._e()])])},staticRenderFns:[function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"checkbox mb-3"},[s("label",[s("input",{attrs:{type:"checkbox",value:"remember-me"}}),this._v(" Remember me\n      ")])])}]};var vt=a("VU/8")({name:"loginPage",data:function(){return{isLoading:!1,error:!1,user:{username:"",password:""}}},methods:{signin:function(){var t=this;t.isLoading=!0,this.$http.post("https://vue-course-api.hexschool.io/admin/signin",t.user).then(function(s){t.isLoading=!1,s.data.success?t.$router.push("/admin"):t.error=!0})}}},ut,!1,function(t){a("5jt5")},"data-v-e0e4836c",null).exports;e.a.use(m.a,r.a,o.a);var mt=new m.a({routes:[{path:"*",redirect:"/main"},{path:"/main",name:"",component:M,children:[{path:"",name:"MainHome",component:O},{path:"desserts",name:"MainDesserts",component:P},{path:"cart",name:"MainCart",component:R},{path:"checkout",name:"MainCheckout",component:W}]},{path:"/login",name:"Login",component:vt},{path:"/admin",name:"",component:tt,children:[{path:"",neme:"AdminOrders",component:dt},{path:"products",neme:"AdminProducts",component:ot}],beforeEnter:function(t,s,a){r.a.post("https://vue-course-api.hexschool.io/api/user/check").then(function(t){t.data.success?a():a({path:"/login"})})}}]});e.a.prototype.$bus=new e.a;e.a.config.productionTip=!1,r.a.defaults.withCredentials=!0,e.a.use(o.a,r.a),e.a.use(c.a,{events:"input|blur"}),e.a.component("Loading",d.a),e.a.filter("currencyFilter",function(t){return"$"+Number(t).toFixed(0).replace(/./g,function(t,s,a){return s&&"."!==t&&(a.length-s)%3==0?(", "+t).replace(/\s/g,""):t})}),e.a.filter("momentFilter",function(t){t*=1e3;var s=new Date(Number(t));return s.getFullYear()+"-"+(s.getMonth()+1<10?"0"+(s.getMonth()+1):s.getMonth()+1)+"-"+(s.getDate()<10?"0"+s.getDate():s.getDate())+" "+(s.getHours()<10?"0"+s.getHours():s.getHours())+":"+(s.getMinutes()<10?"0"+s.getMinutes():s.getMinutes())}),new e.a({el:"#app",router:mt,components:{App:v},template:"<App/>"})},SYh3:function(t,s){},Tphz:function(t,s){},Zs1e:function(t,s){},bmvZ:function(t,s){},dIdL:function(t,s){},hVwP:function(t,s){},"j+mS":function(t,s){},mbaE:function(t,s){},o12z:function(t,s){},qTm3:function(t,s){t.exports="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA0MCA0MCI+PGRlZnM+PHN0eWxlPi5he2ZpbGw6I2VhZjBlZDt9PC9zdHlsZT48L2RlZnM+PHBhdGggY2xhc3M9ImEiIGQ9Ik0tNzczOC43ODQtNTE2LjU3MWExOS44OTMsMTkuODkzLDAsMCwxLTYuMzU3LTQuMjg3LDE5LjksMTkuOSwwLDAsMS00LjI4OC02LjM1N0ExOS44NzgsMTkuODc4LDAsMCwxLTc3NTEtNTM1YTE5Ljg4NiwxOS44ODYsMCwwLDEsMS41NzItNy43ODUsMTkuOTIsMTkuOTIsMCwwLDEsNC4yODgtNi4zNTcsMTkuOTIsMTkuOTIsMCwwLDEsNi4zNTctNC4yODVBMTkuODc0LDE5Ljg3NCwwLDAsMS03NzMxLTU1NWExOS44ODQsMTkuODg0LDAsMCwxLDcuNzg1LDEuNTcyLDE5Ljk2OCwxOS45NjgsMCwwLDEsNi4zNTcsNC4yODUsMTkuOTM3LDE5LjkzNywwLDAsMSw0LjI4NSw2LjM1N0ExOS44NzcsMTkuODc3LDAsMCwxLTc3MTEtNTM1YTE5Ljg3LDE5Ljg3LDAsMCwxLTEuNTcyLDcuNzg1LDE5LjkxNSwxOS45MTUsMCwwLDEtNC4yODUsNi4zNTcsMTkuOTQyLDE5Ljk0MiwwLDAsMS02LjM1Nyw0LjI4N0ExOS44ODQsMTkuODg0LDAsMCwxLTc3MzEtNTE1LDE5Ljg3NCwxOS44NzQsMCwwLDEtNzczOC43ODQtNTE2LjU3MVptLjE5NC0zNi40YTE5LjQyOCwxOS40MjgsMCwwLDAtNi4yLDQuMTc4LDE5LjQ4LDE5LjQ4LDAsMCwwLTQuMTc5LDYuMkExOS4zNzcsMTkuMzc3LDAsMCwwLTc3NTAuNS01MzVhMTkuMzcsMTkuMzcsMCwwLDAsMS41MzMsNy41OSwxOS40NjYsMTkuNDY2LDAsMCwwLDQuMTc5LDYuMiwxOS40NTksMTkuNDU5LDAsMCwwLDYuMiw0LjE3OEExOS4zNTksMTkuMzU5LDAsMCwwLTc3MzEtNTE1LjVhMTkuMzczLDE5LjM3MywwLDAsMCw3LjU5LTEuNTMzLDE5LjQ3NSwxOS40NzUsMCwwLDAsNi4yLTQuMTc4LDE5LjQzMywxOS40MzMsMCwwLDAsNC4xNzgtNi4yQTE5LjM2MSwxOS4zNjEsMCwwLDAtNzcxMS41LTUzNWExOS4zNjgsMTkuMzY4LDAsMCwwLTEuNTMzLTcuNTksMTkuNDQ2LDE5LjQ0NiwwLDAsMC00LjE3OC02LjIsMTkuNDQ0LDE5LjQ0NCwwLDAsMC02LjItNC4xNzhBMTkuMzczLDE5LjM3MywwLDAsMC03NzMxLTU1NC41LDE5LjM1OSwxOS4zNTksMCwwLDAtNzczOC41OS01NTIuOTY3Wm0uNTgzLDM0LjU1M2ExNy45NDYsMTcuOTQ2LDAsMCwxLTUuNzIxLTMuODU5LDE3LjkwOSwxNy45MDksMCwwLDEtMy44NTctNS43MjFBMTcuODcxLDE3Ljg3MSwwLDAsMS03NzQ5LTUzNWExNy44NzgsMTcuODc4LDAsMCwxLDEuNDE2LTcuMDA3LDE3Ljk1MSwxNy45NTEsMCwwLDEsMy44NTctNS43MjEsMTcuOTA4LDE3LjkwOCwwLDAsMSw1LjcyMS0zLjg1N0ExNy45LDE3LjksMCwwLDEtNzczMS01NTNhMTcuODkzLDE3Ljg5MywwLDAsMSw3LDEuNDE0LDE3Ljk0NiwxNy45NDYsMCwwLDEsNS43MjMsMy44NTcsMTcuOTU5LDE3Ljk1OSwwLDAsMSwzLjg1Nyw1LjcyMUExNy45MTEsMTcuOTExLDAsMCwxLTc3MTMtNTM1YTE3LjksMTcuOSwwLDAsMS0xLjQxNCw3LjAwNywxNy45MTcsMTcuOTE3LDAsMCwxLTMuODU3LDUuNzIxLDE3Ljk4MywxNy45ODMsMCwwLDEtNS43MjMsMy44NTksMTcuODkzLDE3Ljg5MywwLDAsMS03LDEuNDE0QTE3LjksMTcuOSwwLDAsMS03NzM4LjAwNi01MTguNDE0Wm0tMS4wNDgtNi4yNTZhMTAuMDE1LDEwLjAxNSwwLDAsMCwzLjk0MS43NjYsMTAuMTI2LDEwLjEyNiwwLDAsMCw2LjU0NC0yLjA0Miw1LjkwNyw1LjkwNywwLDAsMCwyLjM0Mi00LjUyNyw1Ljg1Nyw1Ljg1NywwLDAsMC0yLjQtNC43MjFsLTIuNjExLTIuMzQ2Yy0xLjEyNi0xLjAxNS0yLjIyNy0yLjE2MS0yLjIyNy00LjAxOSwwLTIuMTIyLDEuODQ0LTMuNjA3LDQuNDg2LTMuNjA3YTUuMzc1LDUuMzc1LDAsMCwxLDIuOTcyLjkwOCwzLjQ2OCwzLjQ2OCwwLDAsMSwxLjU0NCwyLjkzMyw1LjY4MSw1LjY4MSwwLDAsMS0uMjQzLDEuNjVsLS4wMjEuMDhoLjM1MmwyLjAyMy01LjYtLjQ0LS4wODhhMS4wNDksMS4wNDksMCwwLDEtMS4wNTYuNzYzLDUuNDI4LDUuNDI4LDAsMCwxLTEuNzI0LS40LDkuODQ5LDkuODQ5LDAsMCwwLTMuNDA4LS42NTYsOS4wMzYsOS4wMzYsMCwwLDAtNS4zNzEsMS42NDYsNS4wNTQsNS4wNTQsMCwwLDAtMi4yMjMsNC4wNDRjMCwyLjI0OSwxLjE1OSwzLjc2LDIuOSw1LjMzOGwyLjA4MiwxLjlhNC42NTIsNC42NTIsMCwwLDEsMS43NjEsMy42MzgsNC4zOTQsNC4zOTQsMCwwLDEtMS40MjYsMy4zOTEsNS45MTIsNS45MTIsMCwwLDEtNCwxLjMsNi4wNjIsNi4wNjIsMCwwLDEtMy4zMjEtMS4wMjMsMy42MjMsMy42MjMsMCwwLDEtMS42OTQtMy4wMjUsNC45NSw0Ljk1LDAsMCwxLC4zNzUtMS43MTRsLjAwNi0uMDE2aC0uMzgxbC0yLjA4Miw1LjgzNi40MTEuMDg4YTEuMTU5LDEuMTU5LDAsMCwxLDEuMTE1LS45MzhBNC45NTYsNC45NTYsMCwwLDEtNzczOS4wNTUtNTI0LjY2OVptMTYuNjM4LTEwLjUzNHYwYTMuNzIsMy43MiwwLDAsMS0uNzQ1LDEuMTgxbC0uMTA3LjEzNmMtLjA0NS4wNjItLjA5My4xMjYtLjE0NC4xODlhMS45NjQsMS45NjQsMCwwLDAtLjU0MSwxLjEzMi43OS43OSwwLDAsMCwuODU0Ljc4Ni44OS44OSwwLDAsMCwuOTE4LS45Miw1Ljc5Myw1Ljc5MywwLDAsMC0uMDg3LS43MzlsLS4wMjktLjJhNC4xMzQsNC4xMzQsMCwwLDEtLjA1OC0xLjVsLjAwNy0uMDUyYTUuNTg1LDUuNTg1LDAsMCwxLC43ODgsMS41NTJjLjI0My42NjkuNDIsMS4xNTQsMS4xMTcsMS4xNTRhLjkwNi45MDYsMCwwLDAsLjg2OS0uOTM2YzAtLjM4MS0uMjU4LS42NzMtLjc2OC0uODdhOS4xOTMsOS4xOTMsMCwwLDEtMS45NTUtLjk1MSw0LjgxNiw0LjgxNiwwLDAsMSwuNTUyLS4wMzEsOS4xNTQsOS4xNTQsMCwwLDEsMS4yLjFsLjE5Mi4wMjlhNC4wNzEsNC4wNzEsMCwwLDAsLjU0Mi4wNTQuODQ2Ljg0NiwwLDAsMCwuOTM2LS44Ny45MTkuOTE5LDAsMCwwLS44NjgtLjkxOCwyLjE3NCwyLjE3NCwwLDAsMC0xLjIzNy43MTgsMy43ODcsMy43ODcsMCwwLDEtMS4zMzYuODUyLDQuMTE2LDQuMTE2LDAsMCwxLC44MzYtMS4zMTljLjA0NS0uMDYyLjA5My0uMTI0LjE0Mi0uMTg3YTEuOTYsMS45NiwwLDAsMCwuNTQzLTEuMTM0Ljc4OC43ODgsMCwwLDAtLjg1Mi0uNzg0Ljg5Ljg5LDAsMCwwLS45Mi45MTgsNS41MTUsNS41MTUsMCwwLDAsLjA5LjczOWwuMDI3LjJhNC4zNDQsNC4zNDQsMCwwLDEsLjA2OCwxLjU1NCw1LjYzOCw1LjYzOCwwLDAsMS0uNzkyLTEuNTQ3Yy0uMjUxLS42NzMtLjQzMi0xLjE2MS0xLjEzLTEuMTYxYS45MDUuOTA1LDAsMCwwLS44NjguOTM4YzAsLjM4MS4yNTcuNjczLjc2OS44NjhhOC43ODksOC43ODksMCwwLDEsMS45NTMuOTUzLDQuODM3LDQuODM3LDAsMCwxLS41NTYuMDI5LDkuMDU4LDkuMDU4LDAsMCwxLTEuMi0uMWMtLjA2Ni0uMDA4LS4xMzItLjAxOC0uMi0uMDI3YTMuNTc5LDMuNTc5LDAsMCwwLS41MzctLjA1Ni44NDguODQ4LDAsMCwwLS45MzYuODcuOTE5LjkxOSwwLDAsMCwuODcuOTE4LDIuMTc1LDIuMTc1LDAsMCwwLDEuMjM1LS43MTgsMy45MjQsMy45MjQsMCwwLDEsMS4zNS0uODUyWiIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoNzc1MSA1NTUpIi8+PC9zdmc+"},"s+E3":function(t,s){},vbk1:function(t,s){}},["NHnr"]);
//# sourceMappingURL=app.448ad040d1bcfb338439.js.map